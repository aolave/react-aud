{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/freshchat/index.tsx"],"names":[],"mappings":"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","file":"freshchat.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/freshchat/index.tsx\");\n","declare var app: any;\r\ndeclare var fcSettings: any;\r\ndeclare var fcWidget: any;\r\ndeclare function url_for(url: string): string\r\nclass InitFreshChat {\r\n\trestoreId: string;\r\n\tconstructor(restoreId: string) {\r\n\t\tthis.restoreId = restoreId;\r\n\t}\r\n\t/**\r\n     * recibe parametros de cofiguracion *\r\n     * @returns inicializa el chat\r\n     */\r\n\tchat() {\r\n\t\tlet api = app.vars.freshchat.api;\r\n\t\twindow.fcSettings = {\r\n\t\t\ttoken: api.token,\r\n\t\t\thost: api.host,\r\n\t\t\texternalId: api.externalId,\r\n\t\t\trestoreId: this.restoreId ? this.restoreId : null, //Have the widget open on load by default by setting the below value to true\r\n\t\t\topen: api.open,\r\n\t\t\tconfig: {\r\n\t\t\t\t//Disable Events Tracking\r\n\t\t\t\tdisableEvents: false,\r\n\t\t\t\tcssNames: {\r\n\t\t\t\t\twidget: 'fc_frame',\r\n\t\t\t\t\topen: 'fc_open',\r\n\t\t\t\t\texpanded: 'fc_expanded'\r\n\t\t\t\t},\r\n\t\t\t\tshowFAQOnOpen: true,\r\n\t\t\t\thideFAQ: true,\r\n\t\t\t\tagent: {\r\n\t\t\t\t\thideName: false,\r\n\t\t\t\t\thidePic: true,\r\n\t\t\t\t\thideBio: true\r\n\t\t\t\t},\r\n\t\t\t\theaderProperty: {\r\n\t\t\t\t\tbackgroundColor: '#45a4ec',\r\n\t\t\t\t\tforegroundColor: '#ffffff',\r\n\t\t\t\t\thideChatButton: false, //Set Widget to be left to right.\r\n\t\t\t\t\tdirection: 'ltr'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonInit: function() {\r\n\t\t\t\tlet users = app.vars.freshchat.user;\r\n\t\t\t\tconst url: string = url_for(`freshchat/${users.idUser}/save`); // modify, this chage\r\n\t\t\t\twindow.fcWidget.user.get(function(resp: any) {\r\n\t\t\t\t\tlet status = resp.status;\r\n\t\t\t\t\tif (status !== 200) {\r\n\t\t\t\t\t\twindow.fcWidget.user.setProperties({\r\n\t\t\t\t\t\t\tfirstName: users.firstName,\r\n\t\t\t\t\t\t\tlastName: users.lastName,\r\n\t\t\t\t\t\t\temail: users.email,\r\n\t\t\t\t\t\t\tphone: users.phoneNumber,\r\n\t\t\t\t\t\t\tphoneCountryCode: users.phoneCode,\r\n\t\t\t\t\t\t\tplan: users.plan,\r\n\t\t\t\t\t\t\tstatus: users.status\r\n\t\t\t\t\t\t\t//\"Meta\": users.meta\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\twindow.fcWidget.on('user:created', function(resp: any) {\r\n\t\t\t\t\t\t\tlet status = resp.status;\r\n\t\t\t\t\t\t\tlet data = resp.data;\r\n\t\t\t\t\t\t\tif (status === 200) {\r\n\t\t\t\t\t\t\t\tif (data.restoreId) {\r\n\t\t\t\t\t\t\t\t\t// Update restoreId in your database\r\n\t\t\t\t\t\t\t\t\t$.post(url, { user: users.idUser, restoreId: data.restoreId }, $.noop, 'json'); // modify this chage\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn this.restoreId;\r\n\t}\r\n}\r\nlet initpreshchat = new InitFreshChat(app.vars.freshchat.restoreId);\r\ninitpreshchat.chat();\r\n"],"sourceRoot":""}
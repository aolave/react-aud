(function(){var e;this.onAjaxFailedCallback=function(e,t,n){return $.unblockUI(),$.pnotify({title:"Error",text:n,styling:"jqueryui",type:"error"})},this.__tr=function(e,t){var n;return typeof I18N_LABELS=="undefined"||I18N_LABELS===null?e:(t=t||"base",((n=I18N_LABELS[t])!=null?n[e]:void 0)!=null?I18N_LABELS[t][e]:e)},this.booleanize=function(e){if(e==null)return!1;switch(typeof e){case"boolean":return e;case"number":return e!==0;case"string":return e!=="false"&&e!=="off"&&e!=="no"&&e!=="0"&&e!=="";case"object":return Boolean(e);case"undefined":return!1}},this.url_for=function(e){return _3Creatives.ROOT_URL+e},this.executeFunctionByName=function(e,t,n){var r,i,s;n=_.isArray(n)?n:Array.prototype.slice.call(arguments,2),s=e.split("."),r=s.pop(),i=0;while(i<s.length)t=t[s[i]],i++;return t[r].apply(t,n)},this.sf_batchSelectAll=function(){var e;return $(this).trigger("select-all"),e=$(this).closest(".table"),e.find(".sf_admin_batch_checkbox").attr("checked","checked").trigger("change")},this.sf_batchSelectNone=function(){var e;return $(this).trigger("select-none"),e=$(this).closest(".table"),e.find(".sf_admin_batch_checkbox").removeAttr("checked").trigger("change")},this.sf_executeFilter=function(){return $("#sf_admin_filter form").submit()},this.sf_updateSelectChoicesFor=function(t,n,r,i){var s;s=$(n);if(t.value!=="")return s.hasClass("raw-select")||s.parent().find(".select2-loading-icon").addClass("ajax-loader-snake"),e.ajaxGet(r,{value:t.value,_t:(new Date).getTime()},function(e){var t;s.hasClass("raw-select")||s.parent().find(".select2-loading-icon").removeClass("ajax-loader-snake"),t="",_.size(e.response)>0&&(t+="<option value=''></option>"),e.response.each(function(e){return t+="<option value='"+e.value+"' "+(i===e.value?"selected":"")+(" >"+e.label+"</option>")}),s.html(t),s.data("choices",e.response),!s.hasClass("raw-select")&&jQuery.fn.select2!=null&&!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)&&s.select2();if(i)return s.trigger("change")});s.val("").html("");if(!s.hasClass("raw-select")&&jQuery.fn.select2!=null&&!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent))return s.select2()},this.sf_toggleTextInputFilterOptions=function(e){return $(e).next().slideToggle()},this.sf_validateJsonResponse=function(e){return typeof e!="object"?!1:typeof e.hasErrors=="undefined"?!1:e.hasErrors===0},this.sf_sendUserPreference=function(t,n,r){return e.ajaxPost("sfGuardUserPreferences/updatePreference",{name:t,user_id:_3Creatives.current_user.id,value:n,category:r})},this.addLocationSearchParam=function(e,t){var n,r,i;e=escape(e),t=escape(t),r=document.location.search.substr(1).split("&");if(r==="")return t!==""?"?"+e+"="+t:"";n=r.length,i=void 0;while(n--){i=r[n].split("=");if(i[0]===e){i[1]=t,r[n]=i.join("=");break}}return n<0&&(r[r.length]=[e,t].join("=")),r.length>0?r.join("&"):""},e={debug:!1,log:function(){var e;e=arguments;if((typeof console!=="undefined"&&console!==null?console.log:void 0)!=null)return console.log.apply(window,e)},logError:function(){var e;e=arguments;if((typeof console!=="undefined"&&console!==null?console.error:void 0)!=null)return console.error.apply(window,e)},ajax:function(e,t){return t==null&&(t={}),t.error=function(e,t,n){var r,i,s,o;$.unblockUI(),s="Error: "+n;try{o=JSON.parse(e.responseText),o.message&&(s+="<br/> <em>"+o.message+"</em>")}catch(i){r=i,!1}return bootbox.alert(s)},e.match(/^https?:\/\//i)||(e=url_for(e)),jQuery.ajax(e,t)},ajaxPost:function(e,t,n){return typeof t!="string"&&(t=jQuery.extend(t!=null?t:{},{_csrf_token:_3Creatives.CSRF_TOKEN})),this.ajax(e,{data:t,success:n,type:"POST"})},ajaxGet:function(e,t,n){return this.ajax(e,{data:t,success:n,type:"GET"})},ajaxDelete:function(e,t,n){return typeof t!="string"&&(t=jQuery.extend(t!=null?t:{},{_csrf_token:_3Creatives.CSRF_TOKEN})),this.ajax(e,{data:$.extend(t,{sf_method:"delete"}),success:n,type:"DELETE"})},reloadDashlet:function(e,t,n){var r,i,s;return n==null&&(n={}),s=(i=n.target)!=null?i:"#portlet-"+e.replace("/","_")+" > .portlet-body",r=jQuery(s),r.showLoading(),this.ajaxGet("Dashboard/reloadDashlet",{name:e,options:t,_t:jQuery.now()},function(e){return r.html(e).trigger("reloaded.dashlet")})},gatherTableColumnValues:function(e,t,n){var r;return r=[],n==null&&(n=""),jQuery(e).find("tbody tr"+n).each(function(){return r.push($(this).children(t).html())}),r},isIE:function(){var e;return e=e||navigator.userAgent,e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}},window.$3C=e,jQuery.fn.switchClass=function(e,t){return this.hasClass(e)?(this.removeClass(e),this.addClass(t)):(this.removeClass(t),this.addClass(e)),this},jQuery.fn.setClass=function(e,t){return t?this.addClass(e):this.removeClass(e)},jQuery.fn.replaceClass=function(e,t){return this.removeClass(e),this.addClass(t),this},jQuery.fn.scrollTo=function(e,t){return this.each(function(){var n;return n=$(this).offset().top,$("html,body").animate({scrollTop:n},e,t)})},jQuery.fn.getAttrData=function(e,t){var n;return n=this.attr("data-"+e),typeof n=="undefined"?t:n},jQuery.fn.isChildOf=function(e){return 0!==this.parents(e).length},jQuery.showPageAlert=function(e){if(jQuery.pnotify==null)return;return typeof e=="string"&&(e={text:e}),e.addclass==null&&(e.addclass=""),e.addclass=e.addclass+" page-alert",e.shadow=!1,e.delay==null&&(e.delay=2e3),e.type==null&&(e.type="success"),jQuery.pnotify(e)},jQuery.fn.showLoading=function(e){return e==null&&(e="snake-32"),this.html("<div class='loading-wrapper'><span class='ajax-loader-"+e+"'></span></div>")},jQuery.fn.serializeHash=function(){var e,t,n;return t={},n=function(e,r){var i,s,o;return i=e.lastIndexOf("["),i===-1?(t={},t[e]=r,t):(s=e.substr(0,i),o={},o[e.substring(i+1,e.length-1)]=r,n(s,o))},e=$(this).find(":input").get(),$.each(e,function(){var e;if(this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/hidden|text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color/i.test(this.type)))return e=$(this).val(),$.extend(!0,t,n(this.name,e))}),t},function(){var e,t;return t=void 0,e=void 0,jQuery.uaMatch=function(e){var t;return e=e.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],{browser:t[1]||"",version:t[2]||"0"}},t=jQuery.uaMatch(navigator.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),jQuery.browser=e}()}).call(this);
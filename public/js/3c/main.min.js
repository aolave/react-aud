(function(){var configureQuickForm,init_3c,isSelect2Enabled,makeFormsAsValidable,markTabIfContainsErrors,sendAjaxForm,startDefaultPlugins;bootbox.warningConfirm=function(text,c,l,cb){var message;message="<div class='row-fluid'><div class='span3 alert-warning-icon'><img src='"+_3Creatives.ROOT_URL+`../images/dialog-warning128x128.png' alt='warning' /></div><div class='span9 alert-warning-message'>${text}</div></div>`;return bootbox.dialog(message,[{"label":c,"icon":null,"class":"btn","callback":function(){return cb(false)}},{"label":l,"icon":null,"class":"btn-danger","callback":function(){return cb(true)}}],{'onEscape':function(){return cb(false)}})};if(typeof yepnope!=="undefined"&&yepnope!==null){yepnope([{test:Modernizr.touch,yep:[_3Creatives.ROOT_URL+"../js/plugins/jquery.ui.core.min.js",_3Creatives.ROOT_URL+"../js/plugins/jquery.ui.widget.min.js",_3Creatives.ROOT_URL+"../js/plugins/jquery.ui.mouse.min.js",_3Creatives.ROOT_URL+"../js/plugins/jquery.ui.touch-punch.min.js"]}])}isSelect2Enabled=function(){return(jQuery.fn.select2!=null)&&!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)};if($.validator!=null){$.validator.default3CreativesOptions={submitHandler:function(form){var isRemote;isRemote=booleanize($(form).getAttrData('remote','off'));if(!isRemote){return form.submit()}},invalidHandler:function(){jQuery.showPageAlert({'type':'error','text':__tr('Algunos de los datos ingresados son inv√°lidos.'),'delay':4000,'addclass':' animated bounce '});return $.unblockUI()},onkeyup:false,ignore:"",onShowAllErrors:function(){markTabIfContainsErrors();return $(this.currentForm).trigger('jqvalidate.shown-errors')},highlight:function(label){return $(label).closest('.control-group').addClass('error')},unhighlight:function(label){return $(label).closest('.control-group').removeClass('error').find(".errors").remove()},errorPlacement:function(err,elem){var controlsElement,errContainer;controlsElement=elem.closest('.control-group').find('label').not('.noerror');if(controlsElement.length===0){controlsElement=elem.parent()}controlsElement.find(".errors").remove();errContainer=$("<div class='errors'></div>").appendTo(controlsElement);errContainer.html(`<span class='icon-warning-sign'title='${err.text()}'>&nbsp;</span>`);return errContainer.find("span").qtip({position:{my:"center left",at:"center right"},style:{classes:"ui-tooltip-bootstrap ui-tooltip-rounded ui-tooltip-shadow"}})}}}this.addListTableEventListeners=function(target){var $maincontent,blockOptions,updateMainContent;$maincontent=$(target!=null?target:".sf_admin_list_table_wrapper");updateMainContent=function(responseText){$maincontent.html(responseText);if(isSelect2Enabled()){$maincontent.find("select:not([multiple])").not(".ui-datepicker select, .sf_admin_time select, .ui-switchable, .raw-select, .custom-select").select2()}if(jQuery.fn.qtip!=null){$maincontent.find("*[title]").not(".noqtip, [rel=popover], abbr").each(function(){var $this;$this=$(this);return $this.qtip({content:{text:function(){var data;data=$(this).attr("data-qtip-content");if(data!=null){return data=="next"? $(this).next().html() : $(data)}else{return $(this).attr("oldtitle")}},title:function(){var ref;return(ref=$(this).attr("data-qtip-title"))!=null?ref:false}},show:{event:$this.getAttrData("qtip-trigger","mouseenter")},hide:{fixed:booleanize($this.getAttrData("qtip-fixed","off"))},position:{target:$this.getAttrData("qtip-position-target",false),my:$this.getAttrData("qtip-my","top center"),at:$this.getAttrData("qtip-at","bottom center")},style:{width:$this.getAttrData("qtip-width", false),classes:$this.getAttrData("qtip-style","ui-tooltip-light ui-tooltip-bootstrap")+" ui-tooltip-rounded ui-tooltip-shadow"}})})}$('.dropdown-menu a').removeClass('btn');$(".sf_admin_row.master-row").each(function(){var bgColor,bgColorAlpha;bgColor=$(this).getAttrData('sf_admin_row-bgcolor');if(bgColor){bgColorAlpha=$(this).getAttrData('sf_admin_row-bgcolor-alpha','0.3');return $(this).children('td').css('background-color',`rgba(${bgColor},${bgColorAlpha})`).filter(':first').css({'border-left-color':`rgb(${bgColor})`,'border-left-width':6,'border-left-style':'solid'})}});markTabIfContainsErrors();$maincontent.unblock();return $maincontent.trigger('sf_admin_list.updated')};blockOptions={message:"<div class=\"ajax-loader-snake-32\"></div>",overlayCSS:{backgroundColor:"white"}};$(".sf_admin_row.master-row").each(function(){var bgColor,bgColorAlpha;bgColor=$(this).getAttrData('sf_admin_row-bgcolor');if(bgColor){bgColorAlpha=$(this).getAttrData('sf_admin_row-bgcolor-alpha','0.3');return $(this).children('td').css('background-color',`rgba(${bgColor},${bgColorAlpha})`).filter(':first').css({'border-left-color':`rgb(${bgColor})`,'border-left-width':6,'border-left-style':'solid'})}});$('.dropdown-menu a').removeClass('btn');$maincontent.on('click','th.sf_admin_list_th a.sort',function(ev){ev.preventDefault();$maincontent.block(blockOptions);jQuery.get(this.href,{},updateMainContent);return false});$maincontent.on('submit',".admin_pager_nav form",function(){$maincontent.block(blockOptions);jQuery.get(CURRENT_MODULE_INDEX_URL,$("input",this).serialize(),updateMainContent);return false});$maincontent.on('click',".admin_pager_nav a",function(){if(!jQuery(this).hasClass("ui-state-disabled")){$maincontent.block(blockOptions);jQuery.get(this.href,{},updateMainContent)}return false});$maincontent.on('click','.sf_admin_list_drilldown_toggle button',function(ev){var $table;target=$(this).data('target');$table=$(this).closest("table");$table.find(target).slideToggle();$(this).find('span').switchClass('icon-chevron-down','icon-chevron-right');return false});$maincontent.on('change',".sf_admin_max_per_page_choices",function(){$maincontent.block(blockOptions);return jQuery.get(CURRENT_MODULE_INDEX_URL,{max_per_page:this.value},updateMainContent)});$maincontent.on('click',".batch-options-menu .chk-head",function(){if($(this).hasClass('icon-check-empty')){sf_batchSelectAll.call(this)}else{sf_batchSelectNone.call(this)}return $(this).switchClass('icon-check','icon-check-empty')});$('#sf_admin_search_filter').on('click','a.toggle-list-filter',function(ev){ev.preventDefault();if($('#sf_admin_filter').html().trimRight()===''){$('#sf_admin_filter').show().block();$3C.ajaxGet(CURRENT_MODULE_COLLECTION_URL.replace('_ACTION_','showFilters'),{},function(r){$('#sf_admin_filter').unblock().html(r);startDefaultPlugins('#sf_admin_filter');return $("#sf_admin_filter_select").val($("#sf_admin_filter_select option:eq(1)").attr('value')).trigger('change')})}else{$(this.hash).slideToggle()}return $(this).toggleClass('active')});$('#sf_admin_filter').on('click','.btn-hide-filters',function(ev){ev.preventDefault();return $('#sf_admin_search_filter a.toggle-list-filter').click()});$maincontent.on('click',".batch-options-menu .dropdown-menu a",function(){var typeSelect;typeSelect=$(this).data('select');switch(typeSelect){case"all":sf_batchSelectAll.call(this);return $(this).closest('.batch-options-menu').find('.chk-head').addClass('icon-check').removeClass('icon-check-empty');case"none":sf_batchSelectNone.call(this);return $(this).closest('.batch-options-menu').find('.chk-head').addClass('icon-check-empty').removeClass('icon-check')}});$("#btn-save-display-cols:not(.bound)").addClass('bound').on('click',function(){var displayCols,drilldownCols,params;displayCols=$('#sf_admin_list_display_cols').sortable('toArray',{attribute:'data-colname'});drilldownCols=$('#sf_admin_list_drilldown_cols').sortable('toArray',{attribute:'data-colname'});$maincontent.block(blockOptions);params={'lists':{'display_columns':displayCols,'drilldown_columns':drilldownCols},'module_name':_3Creatives.app.module,'group_by':$('#sf_admin_list_groupby_select').val()};return $.post(app.vars.SF_ADMIN_SAVE_GRID_LIST_URL,params,updateMainContent)}).data;if(jQuery.fn.shiftcheckbox!=null){$(".sf_admin_batch_checkbox").shiftcheckbox()}$("#sf_admin_list_content").on('change','.sf_admin_batch_checkbox',function(){var count;if(this.checked){$(this).closest('tr').addClass('selected')}else{$(this).closest('tr').removeClass('selected')}count=$(".sf_admin_batch_checkbox:checked").length;if(count>0){$(".sf_admin_batch_actions_choice.hidable").fadeIn('fast');$(".sf_admin_batch-selected-count").html(`${count}seleccionados`);return $(".sf_admin_batch_actions_choice.hidable .sf_admin_batch-selected-count").fadeIn('fast')}else{$(".sf_admin_batch_actions_choice.hidable").fadeOut('fast');$(".sf_admin_batch-selected-count").html("");return $(".sf_admin_batch_actions_choice.hidable .sf_admin_batch-selected-count").fadeOut('fast')}});$(".sf_admin_batch_actions_choice select").on('change',function(){if(isSelect2Enabled()){return $(".sf_admin_batch_actions_choice select").select2("val",this.value)}});$maincontent.on('click',".sf_admin_batch_actions_choice .submitbatch",function(){var batchAction,inputname,sendBatchAction;batchAction=$(this).prev().val();inputname=$(this).prev().prop('name');if(batchAction===""){bootbox.alert(__tr("Select an option"));return false}if(jQuery(".sf_admin_batch_checkbox:checked").length===0){bootbox.alert(__tr("Select one record at least"));return false}sendBatchAction=function(){$.blockUI();return $("<form>").attr({'action':SF_ADMIN_LIST_BATCH_ACTION_URL,'method':'post'}).append($(":checkbox:checked","#sf_admin_list_content").clone()).append(`<input type='hidden'name='${inputname}'value='${batchAction}'/>`).append("<input type='hidden' name='_csrf_token' value='"+_3Creatives.CSRF_TOKEN+"'/>").appendTo('body').submit()};if(batchAction==="batchDelete"){return bootbox.confirm(__tr("Are you sure you want to delete all selected records?"),function(r){if(r){return sendBatchAction()}})}else{return sendBatchAction()}});jQuery("#sf_admin_search_filter").on("submit","form",function(){if($("#admin_search_filter_input").val()===""){return false}$maincontent=$("#sf_admin_list_content").block({message:"<div class=\"ajax-loader-snake-32\"></div>",overlayCSS:{backgroundColor:"white"}});jQuery.get(this.action,jQuery(this).serialize(),function(responseText){$maincontent.html(responseText).unblock();return updateMainContent()});return false});jQuery('#sf_admin_list_container #sf_admin_filter').on('change','#sf_admin_filter_select',function(ev){var tr,value;tr=$("#sf_admin-filters-table").find(`tr.sf_admin_filter_field_${this.value}`);value=this.value;tr.appendTo($("#sf_admin-filters-table tbody"));tr.removeClass('ui-helper-hidden');tr.find(":checkbox").attr("checked","checked");$(this).children('option').each(function(){if(this.value===value){$(this).attr('disabled',true);return false}});return this.value=''});jQuery("#sf_admin_list_container #sf_admin_filter").on('change','#sf_admin-filters-table .field :checkbox',function(ev){var valuesContainer;valuesContainer=$(this).closest(".sf_admin_form_row").children("td.values");if(this.checked){return valuesContainer.removeClass("ui-helper-hidden").find(":input").removeAttr("disabled")}else{return valuesContainer.addClass("ui-helper-hidden").find(":input").attr("disabled","disabled")}});if($("#sf_admin_filter").is(':visible')&&$("#sf_admin-filters-table .sf_admin_form_row:not(.ui-helper-hidden)").length===0){$("#sf_admin_filter_select").val($("#sf_admin_filter_select option:eq(1)").attr('value')).trigger('change')}if($("#sf_admin_filter").is(':visible')){$('#sf_admin-filters-table .sf_admin_form_row :checkbox:checked').each(function(){return $(`#sf_admin_filter_select option[value='${this.value}']`).attr('disabled','disabled')})}jQuery("#sf_admin_search_filter").on("keyup","#admin_search_filter_input",function(){var $container,klass;$container=$("#sf_admin_search_filter .sf_admin_search_input_wrapper");klass='clean';if(this.value===""){return $container.addClass(klass)}else if($container.hasClass(klass)){return $container.removeClass(klass)}});jQuery("#sf_admin_search_filter").on("click","a.btn-reset",function(e){e.preventDefault();$maincontent=$("#sf_admin_list_content").block({message:"<div class=\"ajax-loader-snake-32\"></div>",overlayCSS:{backgroundColor:"white"}});$("#admin_search_filter_input").val("");jQuery("#sf_admin_search_filter").find(".sf_admin_search_input_wrapper").addClass("clean");return $.get(this.href,{'_reset':'1'},function(responseText){$maincontent.html(responseText).unblock();return updateMainContent()})});jQuery("#sf_admin_search_filter").on("click",".selectable a",function(e){var $checkIcon,iconClass;e.preventDefault();$checkIcon=$(this).find('.check-icon');iconClass='icon-moon-checkmark-3';if(!$checkIcon.hasClass(iconClass)){jQuery("#sf_admin_search_filter .icon-moon-checkmark-3").removeClass(iconClass);$checkIcon.addClass(iconClass);$("#sf_admin_basic_search_fields").val(this.hash.substr(1));if($("#admin_search_filter_input").val()!==""){return jQuery("#sf_admin_search_filter>form").trigger("submit")}}});jQuery(".sf_admin_form.wizard-form").each(function(){var $form,onChangeTab;$form=$(this);$form.find('.btn-primary').hide();$form.find('.tab-pane:first').addClass('first');$form.find('.tab-pane:last').addClass('last');onChangeTab=function(activePane){activePane.addClass('active');$('html,body').animate({scrollTop:activePane.offset().top-100},'fast');if(activePane.hasClass('last')){$('.btn-primary',$form).show();return $('.btn-next',$form).hide()}else if(activePane.hasClass('first')){$('.btn-prev',$form).hide();return $('.btn-primary',$form).hide()}else{$('.btn-next, .btn-prev',$form).show();return $('.btn-primary',$form).hide()}};jQuery(".btn-next").on('click',function(){var activePane;activePane=$form.find('.tab-pane.active').removeClass('active');return onChangeTab(activePane.next())});return jQuery(".btn-prev").on('click',function(){var activePane;activePane=$form.find('.tab-pane.active').removeClass('active');return onChangeTab(activePane.prev())})});jQuery("form.autosave, .sf_admin_form.editform.autosave form").each(function(){var $form,autosaveForm,updateInterval;$form=$(this);autosaveForm=function(){var jqxhr;jqxhr=$.ajax({url:$form.attr('action'),data:$form.serialize()+"&autosave=1",type:'POST',success:function(r){if(r.hasErrors){return $.showPageAlert({type:'error','text':r.message})}else{return $.showPageAlert(__tr('Saved!'))}}});return jqxhr.fail(function(){return $.showPageAlert({type:'error','text':__tr('An error occurred while saving form')})})};updateInterval=parseInt($form.getAttrData('autosave-interval',60));return setInterval(autosaveForm,1000*updateInterval)});$maincontent.on("click",".toggle-field",function(){var $this;$this=$(this);$this.hide().after("<span class=\"ajax-loader-snake\"></span>");$.post(this.href,{'_csrf_token':_3Creatives.CSRF_TOKEN},function(response){if(response.hasErrors){return bootbox.alert(response.message)}else{return $this.html("<span class=\"icon-"+(response.response==="0"?"remove":"ok")+"\"></span>").next().remove().end().show()}});return false});$maincontent.on("click",".master-row .btn[data-toggle=collapse]",function(){var $target,$target_content,$this,url,use_cache;$this=$(this);target=$this.data("target");$target=$(target);if($this.hasClass("active")){return $(target+" > td > div").slideUp("fast",function(){return $target.toggle()})}else{$target.toggle();url=$this.getAttrData('ajax-url');use_cache=$this.getAttrData('ajax-cache',false);$target_content=$(target+" > td > div");if(url&&($target_content.is(':empty')||use_cache)){$target_content.block(jQuery.blockUI.options.SNAKE_16);$3C.ajaxGet(url,{},function(res){return $target_content.unblock().html(res)})}return $(target+" > td > div").slideDown("fast")}});return $maincontent.on('click',".grouphead a[data-toggle=grouprows]",function(){var $this,group;$this=$this;group=$this.closest('.grouphead').nextUntil('.grouphead','tr');if($this.hasClass('open')){group.addClass('ui-helper-hidden');$this.removeClass('open')}else{group.removeClass('ui-helper-hidden');$this.addClass('open')}$this.children('span[class^=icon-]').switchClass('icon-caret-right','icon-caret-down');return false})};sendAjaxForm=function($form){var ajaxType,url;if($form.hasClass('jqvalidable')&&$form.find(".control-group.error:first").length>0){return false}$form.append("<input type='hidden' name='_csrf_token' value='"+_3Creatives.CSRF_TOKEN+"'/>");url=$form[0].action;ajaxType=$form.attr('method')||'POST';$form.trigger("ajaxsubmit");$.blockUI({message:"<div class=\"ajax-loader-snake-32 _a-center\" style=\"padding: 5px\"></div>"+$form.getAttrData('submit-loading-text','')});return $.ajax(url,{data:$form.serialize(),cache:false,type:ajaxType,success:function(responseText,textStatus,jqXHR){var target;$.unblockUI();if(jqXHR.getResponseHeader("Validation-Status")==="Error"){$form.html(responseText);$form.trigger("error.quickform");addListTableEventListeners($form);return makeFormsAsValidable($form.parent())}else{target=$form.data("target");if($3C.DEBUG){return}if(!((target!=null)||typeof responseText==='object')){return location.reload()}if(target!==''){$(target).hide().html(responseText).fadeIn("slow")}if(booleanize($form.getAttrData('reset-after-send','true'))&&!$form.is('.sf_admin_filter form')){$form[0].reset();if(isSelect2Enabled()){$form.find('.select2-container + select').select2('val','')}}if(booleanize($form.getAttrData('hide-modal-on-end','true'))){$form.closest('.modal').modal('hide')}addListTableEventListeners(target);if(target!==''){makeFormsAsValidable(target)}return $form.trigger("success.quickform",[responseText])}}}).fail(onAjaxFailedCallback)};markTabIfContainsErrors=function(form){var $firstErrorTab;$firstErrorTab=null;$('.nav-tabs a, .nav-pills a',form).each(function(){var $tab,hasErrors,tabPane;$tab=$(this);tabPane=$(this.hash);$tab.removeClass('state-error').find('.icon-warning-sign').remove();tabPane.removeClass('state-error');hasErrors=$('.control-group.error',tabPane).length>0;if(hasErrors){if($firstErrorTab===null){$firstErrorTab=$tab}$tab.addClass('state-error').prepend($('<span class="icon-warning-sign"></span>'));return tabPane.addClass('state-error')}});if($firstErrorTab!==null){$firstErrorTab.tab('show');return $('.control-group.error:first :input[name]',$firstErrorTab[0].hash).focus()}};configureQuickForm=function(form){var $form;$form=$(form);return $form.on('valid.success',function(){sendAjaxForm($form);return false})};makeFormsAsValidable=function(context){if(jQuery("form",context).length>0){return jQuery("form",context).not(".risky, .quickform form").add('.generated-quickform').addClass('jqvalidable').each(function(){var $form;$form=$(this);jQuery(this).validate($.validator.default3CreativesOptions);return jQuery(this).trigger('jqvalidate.initialized')})}};this.sf_configureForms=function(context){makeFormsAsValidable(context);return $(".quickform form, .ajaxform, .sf_admin_filter form[data-remote=true]",context).each(function(){return configureQuickForm(this)})};startDefaultPlugins=function($target){if(jQuery.fn.select2!=null){jQuery("select:not([multiple])",$target).not(".ui-datepicker select, .sf_admin_time select, .ui-switchable, .raw-select, .custom-select").select2()}if(jQuery.fn.ko_multiselect!=null){jQuery("select[multiple=multiple]",$target).not('.raw-select').ko_multiselect()}if(!_.isUndefined(jQuery.fn.qtip)){$("*[title]").not(".noqtip, [rel=popover], abbr").each(function(){var $this;$this=$(this);return $this.qtip({content:{text:function(){var data;data=$(this).attr("data-qtip-content");if(data!=null){return data=="next"? $(this).next().html() : $(data)}else{return $(this).attr("oldtitle")}},title:function(){var ref;return(ref=$(this).attr("data-qtip-title"))!=null?ref:false}},show:{event:$this.getAttrData("qtip-trigger","mouseenter")},hide:{fixed:booleanize($this.getAttrData("qtip-fixed","off"))},position:{target:$this.getAttrData("qtip-position-target",false),my:$this.getAttrData("qtip-my","top center"),at:$this.getAttrData("qtip-at","bottom center")},style:{width:$this.getAttrData("qtip-width", false),classes:$this.getAttrData("qtip-style","ui-tooltip-light ui-tooltip-bootstrap")+" ui-tooltip-rounded ui-tooltip-shadow"}})})}return jQuery("[rel=popover]",$target).popover()};init_3c=function($,win){var $win,collapseHeader,expandHeader,subnavScrollTopOffset;$win=$(win);if(isSelect2Enabled()){jQuery.fn.select2.defaults.minimumResultsForSearch=10;jQuery.fn.select2.defaults.placeholder=__tr("Select an option");jQuery.fn.select2.defaults.allowClear=true;jQuery.fn.select2.defaults.width="element"}bootbox.setLocale('es');if(!_.isUndefined(jQuery.blockUI)){jQuery.blockUI.defaults.message="<div class=\"ajax-loader-snake-32 _a-center\" style=\"padding: 5px\"></div>";jQuery.blockUI.defaults.overlayCSS.backgroundColor="#fff";jQuery.blockUI.defaults.overlayCSS.opacity=0.4;jQuery.blockUI.defaults.baseZ=9055;jQuery.blockUI.options={SNAKE_32:{message:"<div class=\"ajax-loader-snake-32 _a-center\" style=\"padding: 5px\"></div>"},SNAKE_16:{message:"<div class=\"ajax-loader-snake _a-center\" style=\"padding: 5px\"></div>"},BIG_CIRCLE:{message:"<div class=\"ajax-loader-big-circle _a-center\" style=\"padding: 5px\"></div>"}};jQuery(".sf_admin_form form").on("submit",function(){if(booleanize($(this).getAttrData('submit-block',$(this).getAttrData('target','_self')!=='_blank'))){return jQuery.blockUI()}})}if(!_.isUndefined(jQuery.pnotify)){jQuery.pnotify.defaults.history=false;jQuery.pnotify.defaults.sticker=false;jQuery.pnotify.defaults.closer_hover=false}if(!_.isUndefined(jQuery.fn.qtip)){jQuery.extend(true,$.fn.qtip.defaults,{position:{viewport:$("body")}})}if(jQuery.fn.wysihtml5!=null){jQuery.fn.wysihtml5.defaultOptions.stylesheets=[];jQuery.fn.wysihtml5.defaultOptions.locale="es"}startDefaultPlugins();markTabIfContainsErrors();jQuery(".sidebar .menu-nav li").each(function(){var $active;$active=$(this).find("a.active");if($active.length>0){$(this).addClass("active").find(".accordion").slideDown("fast","easeOutCubic").end().find(".icon").replaceClass("icon-plus","icon-minus");return false}});$(".sidebar .menu-nav").on('click','.nav-header',function(){$(this).parent(".menu-nav").toggleClass("collapsed");return $(this).find(".icon-arrow").switchClass("icon-arrow icon-moon-arrow-up-10","icon-arrow icon-moon-arrow-down-11")});jQuery(".btn.activable").on("click",function(){return $(this).toggleClass("active")});jQuery(".input-filter-operator").on("change",function(){var base_id;base_id=this.id.replace(/_operator$/,"");if(_.contains([" ",".","!.",""],this.value)){return $("#"+base_id+"_text").val("").hide()}else{return $("#"+base_id+"_text").show()}}).trigger("change");(function(){var activeTab;if(this.location.hash.substr(0,5)==="#tab-"){activeTab=$(`[href=#${location.hash.substr(5)}]`);return activeTab&&activeTab.tab('show')}else if(jQuery(".nav-tabs>.active").length===0){return jQuery(".nav-tabs").each(function(){return jQuery("a:first",this).tab("show")})}})();window.sf_configureForms('body');$("body").on('click','.btn-submit-quickform',function(){return $(this).closest('.modal').find('form').submit()});$(window).on("beforeunload",function(){jQuery.blockUI({'ignoreIfBlocked':true});if($("form.changed").length>0){setTimeout(function(){return setTimeout(function(){return $.unblockUI()},500)},1);return __tr("There are unsaved changes")}});subnavScrollTopOffset=10;collapseHeader=function(){$(".header").slideUp(function(){$("#main-menu").addClass("navbar-fixed-top");$("body").addClass("menufloat");return subnavScrollTopOffset=100});$(".arrow-top").hide();return $(".arrow-bottom").show()};expandHeader=function(){$("#main-menu").removeClass("navbar-fixed-top");$("body").removeClass("menufloat");subnavScrollTopOffset=10;$(".header").slideDown();$(".arrow-top").show();return $(".arrow-bottom").hide()};jQuery(".arrow-top, .arrow-bottom").on("click",function(){var _this,isShowingHeader;_this=$(this);isShowingHeader=_this.is(".arrow-bottom");if(isShowingHeader){expandHeader()}else{collapseHeader()}$3C.ajaxPost("sfGuardUserPreferences/updatePreference",{name:"showHeader",user_id:_3Creatives.current_user.id,value:(isShowingHeader?1:0),category:"theme"});return false});if($("#pageheader").is('.collapsable')&&!$("#pageheader").is(":visible")){collapseHeader()}return jQuery(".sidebar .openable > a").on("click",function(){if(!$(this).parent().hasClass("active")){$(this).parents(".sidebar").find(".openable").removeClass("active").find(".icon").replaceClass("icon-minus","icon-plus").end().find(".accordion").slideUp()}$(this).next().slideToggle().parent().toggleClass("active").find(".icon").switchClass("icon-plus","icon-minus");return false})};jQuery(function(){if($3C.isIE){jQuery("html").addClass("ie-mode"+document.documentMode)}init_3c(jQuery,window);return window.addListTableEventListeners()})}).call(this);

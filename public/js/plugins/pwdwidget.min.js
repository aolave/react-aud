function PasswordWidget(t,e,i){this.maindivobj=document.getElementById(t),this.pwdobjname=e,this.pwdfieldid=i,this.MakePWDWidget=_MakePWDWidget,this.showing_pwd=1,this.txtShow=__tr("Show","password"),this.txtMask=__tr("Mask","password"),this.txtGenerate=__tr("Generate","password"),this.txtWeak=__tr("weak","password"),this.txtMedium=__tr("medium","password"),this.txtGood=__tr("good","password"),this.enableShowMask=!0,this.enableGenerate=!0,this.enableShowStrength=!0,this.enableShowStrengthStr=!0}function _MakePWDWidget(){var t="",e=this.pwdobjname;t+="<input type='password' class='pwdfield' name='"+e+"' id='"+this.pwdfieldid+"'>",this.pwdtxtfield=e+"_text",this.pwdtxtfieldid=this.pwdtxtfield+"_id",t+="<input type='text' class='pwdfield' name='"+this.pwdtxtfield+"' id='"+this.pwdtxtfieldid+"' style='display: none;'>",this.pwdshowdiv=e+"_showdiv",this.pwdshow_anch=e+"_show_anch",t+="<div class='clear'></div><div class='pwdopsdiv' id='"+this.pwdshowdiv+"'><a href='#' tabindex='-1' id='"+this.pwdshow_anch+"'>"+this.txtShow+"</a></div>",this.pwdgendiv=e+"_gendiv",this.pwdgenerate_anch=e+"_gen_anch",t+="<div class='pwdopsdiv'id='"+this.pwdgendiv+"'><a href='#' tabindex='-1'  id='"+this.pwdgenerate_anch+"'>"+this.txtGenerate+"</a></div>",this.pwdstrengthdiv=e+"_strength_div",t+="<div class='pwdstrength' id='"+this.pwdstrengthdiv+"'>",this.pwdstrengthbar=e+"_strength_bar",t+="<div class='pwdstrengthbar' id='"+this.pwdstrengthbar+"'></div>",this.pwdstrengthstr=e+"_strength_str",t+="<div class='pwdstrengthstr' id='"+this.pwdstrengthstr+"'></div>",t+="<div class='clear'></div>",t+="</div>",this.maindivobj.innerHTML=t,this.pwdfieldobj=document.getElementById(this.pwdfieldid),this.pwdfieldobj.pwdwidget=this,this.pwdstrengthbar_obj=document.getElementById(this.pwdstrengthbar),this.pwdstrengthstr_obj=document.getElementById(this.pwdstrengthstr),this._showPasswordStrength=passwordStrength,this.pwdfieldobj.onkeyup=function(){this.pwdwidget._onKeyUpPwdFields()},this._showGeneatedPwd=showGeneatedPwd,this.generate_anch_obj=document.getElementById(this.pwdgenerate_anch),this.generate_anch_obj.pwdwidget=this,this.generate_anch_obj.onclick=function(){return this.pwdwidget._showGeneatedPwd(),!1},this._showpwdchars=showpwdchars,this.show_anch_obj=document.getElementById(this.pwdshow_anch),this.show_anch_obj.pwdwidget=this,this.show_anch_obj.onclick=function(){return this.pwdwidget._showpwdchars(),!1},this.pwdtxtfield_obj=document.getElementById(this.pwdtxtfieldid),this.pwdtxtfield_obj.pwdwidget=this,this.pwdtxtfield_obj.onkeyup=function(){this.pwdwidget._onKeyUpPwdFields()},this._updatePwdFieldValues=updatePwdFieldValues,this._onKeyUpPwdFields=onKeyUpPwdFields,this.enableShowMask||(document.getElementById(this.pwdshowdiv).style.display="none"),this.enableGenerate||(document.getElementById(this.pwdgendiv).style.display="none"),this.enableShowStrength||(document.getElementById(this.pwdstrengthdiv).style.display="none"),this.enableShowStrengthStr||(document.getElementById(this.pwdstrengthstr).style.display="none")}function onKeyUpPwdFields(){this._updatePwdFieldValues(),this._showPasswordStrength()}function updatePwdFieldValues(){1==this.showing_pwd?this.pwdtxtfield_obj.value=this.pwdfieldobj.value:this.pwdfieldobj.value=this.pwdtxtfield_obj.value}function showpwdchars(){var t="",e=this.pwdfieldobj,i=this.pwdtxtfield_obj;1==this.showing_pwd?(this.showing_pwd=0,t=this.txtMask,i.value=e.value,e.style.display="none",i.style.display="",i.focus()):(this.showing_pwd=1,t=this.txtShow,e.value=i.value,i.style.display="none",e.style.display="",e.focus()),this.show_anch_obj.innerHTML=t}function passwordStrength(){var t=new Array;t[0]="#cccccc",t[1]="#ff0000",t[2]="#ff5f5f",t[3]="#56e500",t[4]="#4dcd00",t[5]="#399800";var e=this.pwdfieldobj,i=e.value,d=0;i.length>6&&d++,i.match(/[a-z]/)&&i.match(/[A-Z]/)&&d++,i.match(/\d+/)&&d++,i.match(/[^a-z\d]+/)&&d++,i.length>12&&d++;var s=(t[d],this.pwdstrengthbar_obj);s.style.background=t[d],s.style.width=i.length<=0?0:10*(d+1)+"px";var h="";i.length<1?h="":3>d?h=this.txtWeak:4>d?h=this.txtMedium:d>=4&&(h=this.txtGood);var n=this.pwdstrengthstr_obj;n.innerHTML=h}function getRand(t){return Math.floor(Math.random()*t)}function shuffleString(t){var e=t.split("");for(i=0;i<t.length;i++){var d=i,s=getRand(t.length),h=e[d];e[d]=e[s],e[s]=h}return e.join("")}function showGeneatedPwd(){var t=generatePWD();this.pwdfieldobj.value=t,this.pwdtxtfield_obj.value=t,jQuery("#"+this.pwdfieldobj.id+"_again").val(t),jQuery("#"+this.pwdfieldobj.id+"_confirmation").val(t),jQuery(this.pwdfieldobj).trigger("generated.password",t),this._showPasswordStrength()}function generatePWD(){var t=26,e="@$#%-+",d="";for(i=0;i<3;i++)d+=String.fromCharCode("a".charCodeAt(0)+getRand(t));for(i=0;i<3;i++)d+=String.fromCharCode("A".charCodeAt(0)+getRand(t));for(i=0;i<3;i++)d+=String.fromCharCode("0".charCodeAt(0)+getRand(10));for(i=0;i<4;i++)d+=e.charAt(getRand(e.length));return d=shuffleString(d),d=shuffleString(d),d=shuffleString(d)}
(function(){var n,c;n=!1,c=function(a){return a=parseFloat(a),isNaN(a)?0:a},$("#materialidadform").on("valid.success",function(){return $(this).removeClass("changed")}),$("#materialidadform").on("change",".monto",function(){var a,t,r,o,e;if(n&&$("#materialidadform").addClass("changed"),""===$(this).val()){return $(this).val("0"),$(this).hasClass("currency")&&$(this).autoNumeric("reSet"),void $(this).trigger("change")}a=$(this).data("factor"),e=$("#materialidad_monto"+a).autoNumeric("getNumber"),e=parseFloat(e),o=parseFloat($("#materialidad_monto"+a+"_min").val()),r=parseFloat($("#materialidad_monto"+a+"_med").val()),t=parseFloat($("#materialidad_monto"+a+"_max").val()),$("#montov"+a+"_min").html(isNaN(e)||isNaN(o)?"":accounting.formatMoney(e*o/100)).trigger("change"),$("#montov"+a+"_med").html(isNaN(e)||isNaN(r)?"":accounting.formatMoney(e*r/100)).trigger("change"),$("#montov"+a+"_max").html(isNaN(e)||isNaN(t)?"":accounting.formatMoney(e*t/100)).trigger("change")}),$("#materialidadform").on("change",".materialidad",function(){var a,t,r,o,e,i,l;if(n&&$("#materialidadform").addClass("changed"),a=$("#materialidad_factor").val(),e=$("#materialidad_nivel").val(),!a||!e||-1===e){return $("#total-cell-total .total-value,#total-cell-total_planeacion .total-value,#total-cell-total_error .total-value").html(accounting.formatMoney(0)),void $("#materialidad_total, #materialidad_total_planeacion,#materialidad_total_error").val("")}switch(o=$("#materialidad_monto"+a).autoNumeric("getNumber"),r=void 0,e){case"1":r="max";break;case"2":r="med";break;case"3":r="min"}t=o*parseFloat($("#materialidad_monto"+a+"_"+r).val())/100,i=c($("#materialidad_porc").val()),l=c($("#materialidad_porc_error").val()),$("#total-cell-total .total-value").html(accounting.formatMoney(t)),$("#materialidad_total").val(t),$("#total-cell-total_planeacion .total-value").html(accounting.formatMoney(t*i/100)),$("#materialidad_total_planeacion").val(parseInt(t*i/100)),$("#total-cell-total_error .total-value").html(accounting.formatMoney(t*l/100)),$("#materialidad_total_error").val(parseInt(t*l/100))}),$(function(){accounting.settings.currency.decimal=",",accounting.settings.currency.thousand=".",accounting.settings.currency.format="%s %v",accounting.settings.currency.precision=0,$("input.currency").autoNumeric("init",{decimalCharacter:",",digitGroupSeparator:".",unformatOnSubmit:!0}),$.validator.addMethod("currency",function(a,t,r){return a=$(t).autoNumeric("getNumber"),this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},"Por favor, ingrese una cantidad v√°lida."),$.validator.addClassRules("currency",{currency:!0}),$("#materialidadform").find(".monto").trigger("change"),n=!0})}).call(this);